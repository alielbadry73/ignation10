<!DOCTYPE html>
<html lang="en">

<head>
  <title>Courses - IG Way IGCSE Tutoring</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="description" content="">
</head>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

<link rel="stylesheet" type="text/css" href="icomoon/icomoon.css">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

<link rel="stylesheet" type="text/css" href="css/vendor.css">
<link rel="stylesheet" type="text/css" href="style.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&family=Roboto+Slab&display=swap"
  rel="stylesheet">

<style>
    body {
        background-color: #F8F8F8;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Hero Section Styles */
    .hero-section {
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(255,255,255,0.1)"/><stop offset="100%" stop-color="rgba(255,255,255,0)"/></radialGradient></defs><circle cx="200" cy="200" r="100" fill="url(%23a)"/><circle cx="800" cy="300" r="150" fill="url(%23a)"/><circle cx="400" cy="700" r="120" fill="url(%23a)"/></svg>') no-repeat center center;
        background-size: cover;
        opacity: 0.1;
    }

    .stat-item {
        text-align: center;
        padding: 20px;
        background: rgba(255,255,255,0.1);
        border-radius: 15px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.2);
    }

    .floating-badge {
        animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    /* Course Card Hover Effects */
    .course-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }

    .course-card:hover .course-image-container img {
        transform: scale(1.05);
    }

    .course-card:hover .course-overlay {
        opacity: 1;
    }

    /* Filter Button Styles */
    .course-filter-tabs .btn-group .btn {
        border-radius: 25px;
        padding: 10px 25px;
        font-weight: 600;
        margin: 0 5px;
        transition: all 0.3s ease;
    }

    .course-filter-tabs .btn-group .btn.active {
        background: linear-gradient(135deg, #1e3d6f, #2c5aa0);
        border-color: #1e3d6f;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(30,61,111,0.3);
    }

    .course-filter-tabs .btn-group .btn:hover:not(.active) {
        background: rgba(30,61,111,0.1);
        border-color: #1e3d6f;
        color: #1e3d6f;
        transform: translateY(-2px);
    }

    /* Course Card Animations */
    .course-card {
        animation: fadeInUp 0.6s ease-out;
    }

    .course-card:nth-child(1) { animation-delay: 0.1s; }
    .course-card:nth-child(2) { animation-delay: 0.2s; }
    .course-card:nth-child(3) { animation-delay: 0.3s; }
    .course-card:nth-child(4) { animation-delay: 0.4s; }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .hero-section {
            padding: 60px 0;
        }
        
        .hero-section h1 {
            font-size: 2.5rem;
        }
        
        .stat-item {
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .course-filter-tabs .btn-group {
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .course-filter-tabs .btn-group .btn {
            margin: 5px;
        }
    }

    /* Loading Animation */
    .course-card.loading {
        opacity: 0.5;
        pointer-events: none;
    }

    .course-card.loading::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 40px;
        height: 40px;
        margin: -20px 0 0 -20px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid #1e3d6f;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* Professional Button Styles */
    .cart-btn:hover {
        background: linear-gradient(135deg, #1e3d6f, #2c5aa0) !important;
        color: white !important;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(30,61,111,0.4);
    }

    .login-btn:hover {
        background: #6c757d !important;
        color: white !important;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(108,117,125,0.4);
    }

    .register-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(30,61,111,0.5);
    }

    /* Course Action Button Hover Effects */
    .course-actions .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    .course-actions .btn-primary:hover {
        box-shadow: 0 6px 20px rgba(30,61,111,0.4);
    }

    .course-actions .btn-outline-primary:hover {
        background: #1e3d6f !important;
        color: white !important;
        box-shadow: 0 6px 20px rgba(30,61,111,0.3);
    }

    .course-actions .btn-outline-danger:hover {
        background: #dc3545 !important;
        color: white !important;
        box-shadow: 0 6px 20px rgba(220,53,69,0.3);
    }

    /* Filter Button Hover Effects */
    .course-filter-tabs .btn:hover {
        transform: translateY(-2px);
    }

    /* Utility Link Hover Effects */
    .utility-link:hover {
        color: #1e3d6f !important;
        transform: translateY(-1px);
    }

    /* Logo Hover Effect */
    .top-utility-bar a:hover img {
        transform: scale(1.05);
        transition: transform 0.3s ease;
    }
</style>

</head>

<body>

  <!-- Top Utility Bar -->
  <div class="top-utility-bar" style="background:#fff; border-bottom:1px solid #eee; position:relative; height:60px;">
    <div class="container-fluid" style="position:relative; height:100%;">
      
      <!-- Centered Logo -->
      <div style="position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);">
        <a href="index.html">
          <img src="images/ig-nation-logo-graduation.png" alt="IG Nation IGCSE Tutoring" style="height:50px;" onerror="this.src='images/igway-logo.png'; this.alt='IG Way IGCSE Tutoring';">
        </a>
      </div>

      <!-- Right-aligned Utility Links -->
      <div style="position:absolute; right:20px; top:50%; transform:translateY(-50%); display:flex; align-items:center; gap:20px; font-size:14px;">
        
        <!-- Language Dropdown -->
        <div class="language-dropdown" style="position:relative;">
          <a href="#" class="utility-link" data-bs-toggle="dropdown" style="text-decoration:none; color:#000; display:flex; align-items:center;">
            Language <iconify-icon icon="material-symbols:keyboard-arrow-down" style="margin-left:5px;"></iconify-icon>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">English</a></li>
            <li><a class="dropdown-item" href="#">العربية</a></li>
          </ul>
        </div>

        <!-- User Name Display -->
        <div id="userNameDisplay" style="display:none;">
          <span class="text-primary fw-bold" id="displayUserName">User</span>
          <a href="#" onclick="logout(); return false;" class="utility-link ms-2" style="text-decoration:none; color:#dc3545;">
            <iconify-icon icon="material-symbols:logout" style="margin-right:5px;"></iconify-icon>
            Logout
          </a>
        </div>

        <!-- Favorites -->
        <a href="#" class="utility-link" data-bs-toggle="modal" data-bs-target="#favoritesModal" style="text-decoration:none; color:#000; display:flex; align-items:center;">
          <iconify-icon icon="material-symbols:favorite" style="margin-right:5px;"></iconify-icon>
          Favorites
        </a>
      </div>
    </div>
  </div>

  <!-- Main Navigation Bar -->
  <nav class="main-navigation">
    <div class="container-fluid">
      <div class="row align-items-center">
        <div class="col-7">
          <ul class="nav-menu d-flex list-unstyled mb-0">
            <li class="nav-item">
              <a href="index.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="courses.html" class="nav-link active">Courses</a>
            </li>
            <li class="nav-item">
              <a href="about.html" class="nav-link">About Us</a>
            </li>
            <li class="nav-item">
              <a href="contact.html" class="nav-link">Contact Us</a>
            </li>
            <li class="nav-item">
              <a href="blog.html" class="nav-link">Blog</a>
            </li>
            <li class="nav-item">
              <a href="faqs.html" class="nav-link">FAQ's</a>
            </li>
            <li class="nav-item">
              <a href="community.html" class="nav-link">Community</a>
            </li>
            <li class="nav-item">
              <a href="direct-chat.html" class="nav-link">Direct Chat</a>
            </li>
          </ul>
        </div>
        <div class="col-5">
          <div class="d-flex justify-content-end align-items-center gap-3">
            <a href="#" class="btn btn-outline-primary cart-btn" data-bs-toggle="modal" data-bs-target="#cartModal" style="font-size: 14px; padding: 10px 20px; border-radius: 25px; font-weight: 600; border: 2px solid #1e3d6f; color: #1e3d6f; transition: all 0.3s ease;">
              <iconify-icon icon="material-symbols:shopping-cart" class="me-2"></iconify-icon>
              Cart <span class="badge bg-primary ms-2" id="cartCount" style="background: linear-gradient(135deg, #1e3d6f, #2c5aa0) !important; border-radius: 12px; padding: 4px 8px;">0</span>
            </a>
            <a href="#" class="btn btn-outline-secondary login-btn" data-bs-toggle="modal" data-bs-target="#loginModal" style="font-size: 14px; padding: 10px 20px; border-radius: 25px; font-weight: 600; border: 2px solid #6c757d; color: #6c757d; transition: all 0.3s ease;">
              <iconify-icon icon="material-symbols:login" class="me-2"></iconify-icon>
              Login
            </a>
            <a href="#" class="btn btn-primary register-btn" data-bs-toggle="modal" data-bs-target="#registerModal" style="font-size: 14px; padding: 10px 20px; border-radius: 25px; font-weight: 600; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); border: none; box-shadow: 0 4px 15px rgba(30,61,111,0.3); transition: all 0.3s ease;">
              <iconify-icon icon="material-symbols:person-add" class="me-2"></iconify-icon>
              Register Now
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section" style="background: linear-gradient(135deg, #1e3d6f 0%, #2c5aa0 100%); padding: 80px 0; color: white;">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <h1 class="display-3 fw-bold mb-4">Master IGCSE with <span class="text-warning">Expert Guidance</span></h1>
          <p class="lead mb-4">Comprehensive courses designed by experienced educators to help you excel in your IGCSE examinations. Join thousands of successful students worldwide.</p>
          <div class="d-flex flex-wrap gap-3">
            <div class="stat-item">
              <h3 class="fw-bold text-warning">5000+</h3>
              <p class="mb-0">Students Enrolled</p>
            </div>
            <div class="stat-item">
              <h3 class="fw-bold text-warning">98%</h3>
              <p class="mb-0">Pass Rate</p>
            </div>
            <div class="stat-item">
              <h3 class="fw-bold text-warning">4.9/5</h3>
              <p class="mb-0">Student Rating</p>
            </div>
          </div>
        </div>
        <div class="col-lg-6 text-center">
          <div class="hero-image" style="position: relative;">
            <img src="images/teacher1.png" alt="IGCSE Learning" class="img-fluid rounded-4 shadow-lg" style="max-height: 400px;">
            <div class="floating-badge" style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.9); padding: 10px 15px; border-radius: 25px; color: #1e3d6f; font-weight: 600;">
              <iconify-icon icon="material-symbols:star" class="text-warning"></iconify-icon>
              Top Rated
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Courses Page Content -->
  <section id="courses-content" class="padding-medium" style="background: #f8f9fa; padding: 80px 0;">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-5 fw-bold mb-3">Our <span class="text-primary">Featured Courses</span></h2>
        <p class="lead text-muted">Choose from our comprehensive range of IGCSE courses, each designed to maximize your learning potential and exam success.</p>
      </div>
      
      <!-- Course Filter Tabs -->
      <div class="row mb-5">
        <div class="col-12">
          <div class="course-filter-tabs text-center">
            <div class="btn-group" role="group">
              <button type="button" class="btn btn-outline-primary active" onclick="filterCourses('all')">All Courses</button>
              <button type="button" class="btn btn-outline-primary" onclick="filterCourses('mathematics')">Mathematics</button>
              <button type="button" class="btn btn-outline-primary" onclick="filterCourses('physics')">Physics</button>
              <button type="button" class="btn btn-outline-primary" onclick="filterCourses('chemistry')">Chemistry</button>
              <button type="button" class="btn btn-outline-primary" onclick="filterCourses('english')">English</button>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-4" id="coursesGrid">
        <div class="col-lg-4 col-md-6" data-course="mathematics">
          <div class="course-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease; height: 100%;">
            <div class="course-image-container" style="position: relative; overflow: hidden;">
              <a href="courses-details.html">
                <img src="images/teacher1.png" class="img-fluid" alt="IGCSE Mathematics Course" style="width: 100%; height: 250px; object-fit: cover; transition: transform 0.3s ease;">
              </a>
              <div class="course-badges" style="position: absolute; top: 15px; left: 15px; display: flex; flex-direction: column; gap: 8px;">
                <span class="badge" style="background: linear-gradient(135deg, #28a745, #20c997); color: white; padding: 8px 15px; border-radius: 20px; font-weight: 600; font-size: 0.8rem;">Best Seller</span>
                <span class="badge" style="background: rgba(255,255,255,0.9); color: #1e3d6f; padding: 6px 12px; border-radius: 15px; font-weight: 600; font-size: 0.75rem;">Mathematics</span>
              </div>
              <div class="course-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(30,61,111,0.8), rgba(44,90,160,0.8)); opacity: 0; transition: opacity 0.3s ease; display: flex; align-items: center; justify-content: center;">
                <button class="btn btn-light btn-lg" onclick="enrollInCourse('mathematics')" style="border-radius: 25px; padding: 12px 30px; font-weight: 600;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Start Learning
                </button>
              </div>
            </div>
            <div class="course-content" style="padding: 25px;">
              <div class="course-header mb-3">
                <a href="courses-details.html" style="text-decoration: none; color: inherit;">
                  <h4 class="course-title mb-2" style="font-weight: 700; color: #1e3d6f; line-height: 1.3;">IGCSE Mathematics (Extended)</h4>
                </a>
                <p class="course-description text-muted mb-3" style="font-size: 0.9rem; line-height: 1.5;">Master core mathematical concepts with comprehensive coverage of algebra, geometry, and statistics.</p>
              </div>
              
              <div class="instructor-info mb-3" style="display: flex; align-items: center; gap: 12px;">
                <div class="instructor-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.9rem;">SM</div>
                <div>
                  <p class="instructor-name mb-0" style="font-weight: 600; color: #1e3d6f; font-size: 0.9rem;">Dr. Sarah Mitchell</p>
                  <small class="instructor-board text-muted">Cambridge Board</small>
                </div>
              </div>
              
              <div class="course-rating mb-3" style="display: flex; align-items: center; gap: 8px;">
                <div class="stars" style="display: flex; gap: 2px;">
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                </div>
                <span class="rating-text" style="font-weight: 600; color: #1e3d6f;">4.9</span>
                <span class="rating-count text-muted">(1,234 reviews)</span>
              </div>
              
              <div class="course-price mb-4">
                <div class="price-container" style="display: flex; align-items: center; gap: 10px;">
                  <h3 class="current-price mb-0" style="color: #1e3d6f; font-weight: 700; font-size: 1.5rem;">£299</h3>
                  <span class="original-price text-muted text-decoration-line-through" style="font-size: 1.1rem;">£399</span>
                  <span class="discount-badge" style="background: #dc3545; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">25% OFF</span>
                </div>
              </div>
              
              <div class="course-actions" style="display: flex; gap: 10px;">
                <button onclick="enrollInCourse('mathematics')" class="btn btn-primary flex-fill" style="border-radius: 25px; padding: 12px; font-weight: 600; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); border: none;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Enroll Now
                </button>
                <button class="btn btn-outline-primary add-to-cart-btn" data-course="mathematics" onclick="addToCart('mathematics')" style="border-radius: 25px; padding: 12px; border: 2px solid #1e3d6f; color: #1e3d6f;">
                  <iconify-icon icon="material-symbols:add-shopping-cart"></iconify-icon>
                </button>
                <button class="btn btn-outline-danger favorite-btn" data-course="mathematics" onclick="toggleFavorite('mathematics')" style="border-radius: 25px; padding: 12px; border: 2px solid #dc3545; color: #dc3545;">
                  <iconify-icon icon="mdi:heart-outline"></iconify-icon>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6" data-course="physics">
          <div class="course-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease; height: 100%;">
            <div class="course-image-container" style="position: relative; overflow: hidden;">
              <a href="course-details.html?course=physics">
                <img src="images/teacher2.png" class="img-fluid" alt="IGCSE Physics Course" style="width: 100%; height: 250px; object-fit: cover; transition: transform 0.3s ease;">
              </a>
              <div class="course-badges" style="position: absolute; top: 15px; left: 15px; display: flex; flex-direction: column; gap: 8px;">
                <span class="badge" style="background: linear-gradient(135deg, #17a2b8, #20c997); color: white; padding: 8px 15px; border-radius: 20px; font-weight: 600; font-size: 0.8rem;">Popular</span>
                <span class="badge" style="background: rgba(255,255,255,0.9); color: #1e3d6f; padding: 6px 12px; border-radius: 15px; font-weight: 600; font-size: 0.75rem;">Physics</span>
              </div>
              <div class="course-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(30,61,111,0.8), rgba(44,90,160,0.8)); opacity: 0; transition: opacity 0.3s ease; display: flex; align-items: center; justify-content: center;">
                <button class="btn btn-light btn-lg" onclick="enrollInCourse('physics')" style="border-radius: 25px; padding: 12px 30px; font-weight: 600;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Start Learning
                </button>
              </div>
            </div>
            <div class="course-content" style="padding: 25px;">
              <div class="course-header mb-3">
                <a href="course-details.html?course=physics" style="text-decoration: none; color: inherit;">
                  <h4 class="course-title mb-2" style="font-weight: 700; color: #1e3d6f; line-height: 1.3;">IGCSE Physics (Extended)</h4>
                </a>
                <p class="course-description text-muted mb-3" style="font-size: 0.9rem; line-height: 1.5;">Explore the fundamental principles of physics with hands-on experiments and real-world applications.</p>
              </div>
              
              <div class="instructor-info mb-3" style="display: flex; align-items: center; gap: 12px;">
                <div class="instructor-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #17a2b8, #20c997); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.9rem;">MC</div>
                <div>
                  <p class="instructor-name mb-0" style="font-weight: 600; color: #1e3d6f; font-size: 0.9rem;">Prof. Michael Chen</p>
                  <small class="instructor-board text-muted">Edexcel Board</small>
                </div>
              </div>
              
              <div class="course-rating mb-3" style="display: flex; align-items: center; gap: 8px;">
                <div class="stars" style="display: flex; gap: 2px;">
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                </div>
                <span class="rating-text" style="font-weight: 600; color: #1e3d6f;">4.8</span>
                <span class="rating-count text-muted">(987 reviews)</span>
              </div>
              
              <div class="course-price mb-4">
                <div class="price-container" style="display: flex; align-items: center; gap: 10px;">
                  <h3 class="current-price mb-0" style="color: #1e3d6f; font-weight: 700; font-size: 1.5rem;">£279</h3>
                  <span class="original-price text-muted text-decoration-line-through" style="font-size: 1.1rem;">£349</span>
                  <span class="discount-badge" style="background: #dc3545; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">20% OFF</span>
                </div>
              </div>
              
              <div class="course-actions" style="display: flex; gap: 10px;">
                <button onclick="enrollInCourse('physics')" class="btn btn-primary flex-fill" style="border-radius: 25px; padding: 12px; font-weight: 600; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); border: none;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Enroll Now
                </button>
                <button class="btn btn-outline-primary add-to-cart-btn" data-course="physics" onclick="addToCart('physics')" style="border-radius: 25px; padding: 12px; border: 2px solid #1e3d6f; color: #1e3d6f;">
                  <iconify-icon icon="material-symbols:add-shopping-cart"></iconify-icon>
                </button>
                <button class="btn btn-outline-danger favorite-btn" data-course="physics" onclick="toggleFavorite('physics')" style="border-radius: 25px; padding: 12px; border: 2px solid #dc3545; color: #dc3545;">
                  <iconify-icon icon="mdi:heart-outline"></iconify-icon>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6" data-course="english">
          <div class="course-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease; height: 100%;">
            <div class="course-image-container" style="position: relative; overflow: hidden;">
              <a href="course-details.html?course=english">
                <img src="images/teacher3.png" class="img-fluid" alt="IGCSE English Language Course" style="width: 100%; height: 250px; object-fit: cover; transition: transform 0.3s ease;">
              </a>
              <div class="course-badges" style="position: absolute; top: 15px; left: 15px; display: flex; flex-direction: column; gap: 8px;">
                <span class="badge" style="background: linear-gradient(135deg, #6f42c1, #e83e8c); color: white; padding: 8px 15px; border-radius: 20px; font-weight: 600; font-size: 0.8rem;">New</span>
                <span class="badge" style="background: rgba(255,255,255,0.9); color: #1e3d6f; padding: 6px 12px; border-radius: 15px; font-weight: 600; font-size: 0.75rem;">English</span>
              </div>
              <div class="course-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(30,61,111,0.8), rgba(44,90,160,0.8)); opacity: 0; transition: opacity 0.3s ease; display: flex; align-items: center; justify-content: center;">
                <button class="btn btn-light btn-lg" onclick="enrollInCourse('english')" style="border-radius: 25px; padding: 12px 30px; font-weight: 600;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Start Learning
                </button>
              </div>
            </div>
            <div class="course-content" style="padding: 25px;">
              <div class="course-header mb-3">
                <a href="course-details.html?course=english" style="text-decoration: none; color: inherit;">
                  <h4 class="course-title mb-2" style="font-weight: 700; color: #1e3d6f; line-height: 1.3;">IGCSE English Language</h4>
                </a>
                <p class="course-description text-muted mb-3" style="font-size: 0.9rem; line-height: 1.5;">Develop advanced language skills with comprehensive reading, writing, and communication strategies.</p>
              </div>
              
              <div class="instructor-info mb-3" style="display: flex; align-items: center; gap: 12px;">
                <div class="instructor-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #6f42c1, #e83e8c); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.9rem;">ER</div>
                <div>
                  <p class="instructor-name mb-0" style="font-weight: 600; color: #1e3d6f; font-size: 0.9rem;">Dr. Emily Rodriguez</p>
                  <small class="instructor-board text-muted">Cambridge Board</small>
                </div>
              </div>
              
              <div class="course-rating mb-3" style="display: flex; align-items: center; gap: 8px;">
                <div class="stars" style="display: flex; gap: 2px;">
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                </div>
                <span class="rating-text" style="font-weight: 600; color: #1e3d6f;">4.9</span>
                <span class="rating-count text-muted">(1,156 reviews)</span>
              </div>
              
              <div class="course-price mb-4">
                <div class="price-container" style="display: flex; align-items: center; gap: 10px;">
                  <h3 class="current-price mb-0" style="color: #1e3d6f; font-weight: 700; font-size: 1.5rem;">£249</h3>
                  <span class="original-price text-muted text-decoration-line-through" style="font-size: 1.1rem;">£329</span>
                  <span class="discount-badge" style="background: #dc3545; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">24% OFF</span>
                </div>
              </div>
              
              <div class="course-actions" style="display: flex; gap: 10px;">
                <button onclick="enrollInCourse('english')" class="btn btn-primary flex-fill" style="border-radius: 25px; padding: 12px; font-weight: 600; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); border: none;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Enroll Now
                </button>
                <button class="btn btn-outline-primary add-to-cart-btn" data-course="english" onclick="addToCart('english')" style="border-radius: 25px; padding: 12px; border: 2px solid #1e3d6f; color: #1e3d6f;">
                  <iconify-icon icon="material-symbols:add-shopping-cart"></iconify-icon>
                </button>
                <button class="btn btn-outline-danger favorite-btn" data-course="english" onclick="toggleFavorite('english')" style="border-radius: 25px; padding: 12px; border: 2px solid #dc3545; color: #dc3545;">
                  <iconify-icon icon="mdi:heart-outline"></iconify-icon>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-md-6" data-course="chemistry">
          <div class="course-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); transition: all 0.3s ease; height: 100%;">
            <div class="course-image-container" style="position: relative; overflow: hidden;">
              <a href="course-details.html?course=chemistry">
                <img src="images/teacher1.png" class="img-fluid" alt="IGCSE Chemistry Course" style="width: 100%; height: 250px; object-fit: cover; transition: transform 0.3s ease;">
              </a>
              <div class="course-badges" style="position: absolute; top: 15px; left: 15px; display: flex; flex-direction: column; gap: 8px;">
                <span class="badge" style="background: linear-gradient(135deg, #fd7e14, #ffc107); color: white; padding: 8px 15px; border-radius: 20px; font-weight: 600; font-size: 0.8rem;">Featured</span>
                <span class="badge" style="background: rgba(255,255,255,0.9); color: #1e3d6f; padding: 6px 12px; border-radius: 15px; font-weight: 600; font-size: 0.75rem;">Chemistry</span>
              </div>
              <div class="course-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(30,61,111,0.8), rgba(44,90,160,0.8)); opacity: 0; transition: opacity 0.3s ease; display: flex; align-items: center; justify-content: center;">
                <button class="btn btn-light btn-lg" onclick="enrollInCourse('chemistry')" style="border-radius: 25px; padding: 12px 30px; font-weight: 600;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Start Learning
                </button>
              </div>
            </div>
            <div class="course-content" style="padding: 25px;">
              <div class="course-header mb-3">
                <a href="course-details.html?course=chemistry" style="text-decoration: none; color: inherit;">
                  <h4 class="course-title mb-2" style="font-weight: 700; color: #1e3d6f; line-height: 1.3;">IGCSE Chemistry (Extended)</h4>
                </a>
                <p class="course-description text-muted mb-3" style="font-size: 0.9rem; line-height: 1.5;">Dive deep into chemical reactions, atomic structure, and laboratory techniques with expert guidance.</p>
              </div>
              
              <div class="instructor-info mb-3" style="display: flex; align-items: center; gap: 12px;">
                <div class="instructor-avatar" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #fd7e14, #ffc107); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.9rem;">DJ</div>
                <div>
                  <p class="instructor-name mb-0" style="font-weight: 600; color: #1e3d6f; font-size: 0.9rem;">Dr. James Davidson</p>
                  <small class="instructor-board text-muted">Cambridge Board</small>
                </div>
              </div>
              
              <div class="course-rating mb-3" style="display: flex; align-items: center; gap: 8px;">
                <div class="stars" style="display: flex; gap: 2px;">
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                  <iconify-icon icon="clarity:star-solid" style="color: #ffc107; font-size: 1.1rem;"></iconify-icon>
                </div>
                <span class="rating-text" style="font-weight: 600; color: #1e3d6f;">4.7</span>
                <span class="rating-count text-muted">(892 reviews)</span>
              </div>
              
              <div class="course-price mb-4">
                <div class="price-container" style="display: flex; align-items: center; gap: 10px;">
                  <h3 class="current-price mb-0" style="color: #1e3d6f; font-weight: 700; font-size: 1.5rem;">£269</h3>
                  <span class="original-price text-muted text-decoration-line-through" style="font-size: 1.1rem;">£339</span>
                  <span class="discount-badge" style="background: #dc3545; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">21% OFF</span>
                </div>
              </div>
              
              <div class="course-actions" style="display: flex; gap: 10px;">
                <button onclick="enrollInCourse('chemistry')" class="btn btn-primary flex-fill" style="border-radius: 25px; padding: 12px; font-weight: 600; background: linear-gradient(135deg, #1e3d6f, #2c5aa0); border: none;">
                  <iconify-icon icon="material-symbols:play-arrow" class="me-2"></iconify-icon>
                  Enroll Now
                </button>
                <button class="btn btn-outline-primary add-to-cart-btn" data-course="chemistry" onclick="addToCart('chemistry')" style="border-radius: 25px; padding: 12px; border: 2px solid #1e3d6f; color: #1e3d6f;">
                  <iconify-icon icon="material-symbols:add-shopping-cart"></iconify-icon>
                </button>
                <button class="btn btn-outline-danger favorite-btn" data-course="chemistry" onclick="toggleFavorite('chemistry')" style="border-radius: 25px; padding: 12px; border: 2px solid #dc3545; color: #dc3545;">
                  <iconify-icon icon="mdi:heart-outline"></iconify-icon>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="footer">
    <div class="container padding-medium">
      <div class="row">
        <div class="col-md-4 my-3">
          <h5 class="text-uppercase fw-bold mb-4">Contact us</h5>
          <p><iconify-icon class="social-icon text-primary fs-5 me-2" icon="mdi:location"
              style="vertical-align:text-bottom"></iconify-icon> <span class="fw-bold">Address: </span> New Cairo,
            Egypt</p>
          <p><iconify-icon class="social-icon text-primary fs-5 me-2" icon="solar:phone-bold"
              style="vertical-align:text-bottom"></iconify-icon> <span class="fw-bold">Phone: </span> 01027500835</p>
          <p><iconify-icon class="social-icon text-primary fs-5 me-2" icon="ic:baseline-email"
              style="vertical-align:text-bottom"></iconify-icon> <span class="fw-bold">Email: </span>
            info@igway.com
          </p>
        </div>
        <div class="col-md-2 my-3">
          <div class="footer-menu">
            <h5 class="text-uppercase fw-bold mb-4">Links</h5>
            <ul class="menu-list list-unstyled">
              <li class="menu-item mb-2">
                <a href="index.html" class="footer-link">Home</a>
              </li>
              <li class="menu-item mb-2">
                <a href="about.html" class="footer-link">About us</a>
              </li>
              <li class="menu-item mb-2">
                <a href="courses.html" class="footer-link">Courses</a>
              </li>
              <li class="menu-item mb-2">
                <a href="blog.html" class="footer-link">Blogs</a>
              </li>
              <li class="menu-item mb-2">
                <a href="contact.html" class="footer-link">Contact</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-2 my-3">
          <div class="footer-menu">
            <h5 class="text-uppercase fw-bold mb-4">support</h5>
            <ul class="menu-list list-unstyled">
              <li class="menu-item mb-2">
                <a href="faqs.html">FAQs</a>
              </li>
              <li class="menu-item mb-2">
                <a href="#">Support</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-3 my-3">
          <div class="footer-menu">
            <h5 class="text-uppercase fw-bold mb-4">Follow us</h5>
            <div class="social-links mt-4">
              <ul class="d-flex list-unstyled gap-3">
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon fs-4 me-2" icon="ri:facebook-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon fs-4 me-2" icon="ri:twitter-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon fs-4 me-2" icon="ri:pinterest-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon fs-4 me-2" icon="ri:instagram-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon fs-4 me-2" icon="ri:youtube-fill"></iconify-icon>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div id="footer-bottom">
    <hr class="m-0 text-black-50">
    <div class="container py-3">
      <div class="row mt-3">
        <div class="col-md-6 copyright">
          <p>Copyright © 2025</p>
        </div>
        <div class="col-md-6 text-md-end">
          <p></p>
        </div>
      </div>
    </div>
  </div>

  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <script src="js/plugins.js"></script>
  <!-- Cart Modal -->
  <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cartModalLabel">
            <iconify-icon icon="material-symbols:shopping-cart" class="me-2 text-primary"></iconify-icon>
            Your Cart
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="cartList">
            <div class="text-center text-muted py-4">
              <iconify-icon icon="material-symbols:shopping-cart-outline" class="fs-1 mb-3"></iconify-icon>
              <p>Your cart is empty. Start adding courses to your cart!</p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Continue Shopping</button>
          <button type="button" class="btn btn-primary" id="checkoutBtn" disabled onclick="proceedToCheckout()">Proceed to Checkout</button>
        </div>
      </div>
    </div>
  </div>
  <!-- End Cart Modal -->

  <!-- Login Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Login</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="loginForm">
            <div class="mb-3">
              <label for="loginEmail" class="form-label">Email</label>
              <input type="email" id="loginEmail" class="form-control" autocapitalize="off" autocorrect="off" spellcheck="false" required style="text-transform: lowercase;" oninput="this.value = this.value.toLowerCase()" onkeyup="this.value = this.value.toLowerCase()" onblur="this.value = this.value.toLowerCase()">
            </div>
            <div class="mb-3">
              <label for="loginPassword" class="form-label">Password</label>
              <input type="password" id="loginPassword" class="form-control" required autocomplete="new-password" readonly onfocus="this.removeAttribute('readonly')">
            </div>
            <button type="button" class="btn btn-primary" onclick="handleLoginClick()">Log In</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Register Modal -->
  <div class="modal fade" id="registerModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Register</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="registerForm">
            <div class="mb-3">
              <label for="firstName" class="form-label">First Name</label>
              <input type="text" id="firstName" class="form-control" required>
            </div>
            <div class="mb-3">
              <label for="lastName" class="form-label">Last Name</label>
              <input type="text" id="lastName" class="form-control" required>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-control" autocapitalize="off" autocorrect="off" spellcheck="false" required style="text-transform: lowercase;" oninput="this.value = this.value.toLowerCase()" onkeyup="this.value = this.value.toLowerCase()" onblur="this.value = this.value.toLowerCase()">
            </div>
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input type="password" id="password" class="form-control" required>
            </div>
            <button type="button" class="btn btn-success" onclick="handleRegisterClick()">Register</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script>
    // Cart functionality
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Check login state and update UI
    function checkLoginState() {
        const isLoggedIn = localStorage.getItem('userLoggedIn');
        const userName = localStorage.getItem('userName');
        
        if (isLoggedIn) {
            // Show user name in utility bar
            const userNameDisplay = document.getElementById('userNameDisplay');
            const displayUserName = document.getElementById('displayUserName');
            if (userNameDisplay && displayUserName) {
                userNameDisplay.style.display = 'block';
                displayUserName.textContent = userName || 'User';
            }
            
            // Hide both login and register buttons when logged in
            const loginBtn = document.querySelector('.login-btn');
            const registerBtn = document.querySelector('.register-btn');
            
            if (loginBtn) {
                loginBtn.style.display = 'none';
            }
            
            if (registerBtn) {
                registerBtn.style.display = 'none';
            }
            
            console.log('✅ User logged in - Login and Register buttons hidden');
        } else {
            // Hide user name in utility bar
            const userNameDisplay = document.getElementById('userNameDisplay');
            if (userNameDisplay) {
                userNameDisplay.style.display = 'none';
            }
            
            // Show login and register buttons
            const loginBtn = document.querySelector('.login-btn');
            const registerBtn = document.querySelector('.register-btn');
            
            if (loginBtn) {
                loginBtn.style.display = 'inline-block';
                loginBtn.innerHTML = `<iconify-icon icon="material-symbols:login" class="me-1"></iconify-icon>Login`;
                loginBtn.classList.remove('btn-success');
                loginBtn.classList.add('btn-outline-secondary');
                loginBtn.setAttribute('data-bs-target', '#loginModal');
                loginBtn.removeAttribute('onclick');
            }
            
            if (registerBtn) {
                registerBtn.style.display = 'inline-block';
                registerBtn.innerHTML = `<iconify-icon icon="material-symbols:person-add" class="me-1"></iconify-icon>Register Now`;
                registerBtn.classList.remove('btn-outline-danger');
                registerBtn.classList.add('btn-primary');
                registerBtn.setAttribute('data-bs-target', '#registerModal');
                registerBtn.removeAttribute('onclick');
            }
        }
    }

    // Logout function
    function logout() {
        localStorage.removeItem('userLoggedIn');
        localStorage.removeItem('userName');
        localStorage.removeItem('userEmail');
        localStorage.removeItem('authToken');
        localStorage.removeItem('userId');
        localStorage.removeItem('enrolledCourses');
        showToast('Logged out successfully', 'info');
        checkLoginState();
        console.log('👋 User logged out - Login and Register buttons shown');
    }
    
    // Course data
    const courses = {
      mathematics: {
        title: 'IGCSE Mathematics (Extended)',
        instructor: 'Dr. Sarah Mitchell',
        board: 'Cambridge Board',
        price: '£299.00',
        originalPrice: '£399.00',
        image: 'images/teacher1.png'
      },
      physics: {
        title: 'IGCSE Physics (Extended)',
        instructor: 'Prof. Michael Chen',
        board: 'Edexcel Board',
        price: '£279.00',
        originalPrice: '£349.00',
        image: 'images/teacher2.png'
      },
      english: {
        title: 'IGCSE English Language',
        instructor: 'Dr. Emily Rodriguez',
        board: 'Cambridge Board',
        price: '£249.00',
        originalPrice: '£329.00',
        image: 'images/teacher3.png'
      }
    };

    // Add to cart function
    function addToCart(courseId, silent = false) {
      console.log('addToCart called with courseId:', courseId);
      
      const course = courses[courseId];
      if (!course) {
        if (!silent) showToast('Course not found!', 'error');
        return false;
      }
      
      const existingItem = cart.find(item => item.courseId === courseId);
      
      if (existingItem) {
        // Course already in cart - don't add again
        if (!silent) showToast('This course is already in your cart!', 'info');
        return false;
      } else {
        // Add course to cart (quantity is always 1 for courses)
        cart.push({
          courseId: courseId,
          id: courseId, // For checkout compatibility
          title: course.title,
          price: parseFloat(course.price.replace('£', '')), // Convert to number
          instructor: course.instructor,
          board: course.board,
          image: course.image,
          quantity: 1, // Always 1 - courses can't be purchased multiple times
          addedAt: new Date().toISOString()
        });
        if (!silent) showToast('Course added to cart!', 'success');
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      addCartAnimations(courseId);
      updateCartCount();
      updateCartModal();
      return true;
    }

    // Enroll in course function - redirects to checkout
    function enrollInCourse(courseId) {
      const isLoggedIn = localStorage.getItem('userLoggedIn');
      const userName = localStorage.getItem('userName');
      const authToken = localStorage.getItem('authToken');
      
      console.log('🔍 Enroll button clicked - Checking login state:', {
        userLoggedIn: isLoggedIn,
        userName: userName,
        authToken: authToken ? 'Set' : 'Not Set',
        courseId: courseId
      });
      
      if (!isLoggedIn || !authToken) {
        console.log('❌ User not logged in - showing login modal');
        showToast('Please log in to enroll in courses', 'warning');
        // Open login modal
        const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        loginModal.show();
        return;
      }
      
      console.log('✅ User is logged in - proceeding with enrollment');
      
      // Check if already enrolled
      let enrolledCourses = JSON.parse(localStorage.getItem('enrolledCourses')) || [];
      if (enrolledCourses.includes(courseId)) {
        showToast('You are already enrolled in this course!', 'info');
        return;
      }
      
      // Check if course is already in cart
      const existingItem = cart.find(item => item.courseId === courseId);
      if (existingItem) {
        showToast('This course is already in your cart!', 'info');
        // Still redirect to checkout so user can complete the purchase
        setTimeout(() => {
          window.location.href = 'checkout.html';
        }, 1500);
        return;
      }
      
      // Add course to cart silently (without showing toast)
      const added = addToCart(courseId, true);
      
      if (added) {
        // Show single toast about redirecting
        showToast('Course added to cart! Redirecting to checkout...', 'success');
        
        // Redirect to checkout page after a short delay
        setTimeout(() => {
          window.location.href = 'checkout.html';
        }, 1000);
      }
    }

    // Add cart animations
    function addCartAnimations(courseId) {
      const addBtn = document.querySelector(`[data-course="${courseId}"].add-to-cart-btn`);
      if (addBtn) {
        addBtn.classList.add('added');
        setTimeout(() => {
          addBtn.classList.remove('added');
        }, 800);
      }
      
      const cartBtn = document.querySelector('.cart-btn');
      if (cartBtn) {
        cartBtn.classList.add('added');
        setTimeout(() => {
          cartBtn.classList.remove('added');
        }, 600);
      }
      
      const cartBadge = document.getElementById('cartCount');
      if (cartBadge) {
        cartBadge.classList.add('updated');
        setTimeout(() => {
          cartBadge.classList.remove('updated');
        }, 500);
      }
    }

    // Update cart count
    function updateCartCount() {
      const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
      const cartBadge = document.getElementById('cartCount');
      if (cartBadge) {
        cartBadge.textContent = cartCount;
        console.log('Cart count updated:', cartCount, 'Cart items:', cart);
      } else {
        console.log('Cart badge not found');
      }
    }

    // Update cart modal
    function updateCartModal() {
      const cartList = document.getElementById('cartList');
      const checkoutBtn = document.getElementById('checkoutBtn');
      
      if (cart.length === 0) {
        cartList.innerHTML = `
          <div class="text-center text-muted py-4">
            <iconify-icon icon="material-symbols:shopping-cart-outline" class="fs-1 mb-3"></iconify-icon>
            <p>Your cart is empty. Start adding courses to your cart!</p>
          </div>
        `;
        if (checkoutBtn) checkoutBtn.disabled = true;
      } else {
        cartList.innerHTML = cart.map(item => {
          const course = courses[item.courseId];
          return `
            <div class="cart-item d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center">
                <img src="${course.image}" alt="${course.title}" class="rounded-circle me-3" style="width: 50px; height: 50px; object-fit: cover;">
                <div>
                  <div class="course-title">${course.title}</div>
                  <div class="course-instructor">${course.instructor} - ${course.board}</div>
                  <div class="course-price">${course.price} <span class="text-muted">x${item.quantity}</span></div>
                </div>
              </div>
              <button class="remove-cart" onclick="removeFromCart('${item.courseId}')">
                <iconify-icon icon="material-symbols:delete"></iconify-icon>
              </button>
            </div>
          `;
        }).join('');
        if (checkoutBtn) checkoutBtn.disabled = false;
      }
    }

    // Remove from cart function
    function removeFromCart(courseId) {
      cart = cart.filter(item => item.courseId !== courseId);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      updateCartModal();
      showToast('Course removed from cart');
    }

    // Proceed to checkout function
    function proceedToCheckout() {
      if (cart.length === 0) {
        showToast('Your cart is empty!', 'warning');
        return;
      }
      
      // Check if user is logged in
      const isLoggedIn = localStorage.getItem('userLoggedIn');
      if (!isLoggedIn) {
        showToast('Please log in to proceed to checkout', 'warning');
        // Open login modal
        const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        loginModal.show();
        return;
      }
      
      // Redirect to checkout page
      window.location.href = 'checkout.html';
    }

    // Show toast notification
    function showToast(message, type = 'info') {
      const toastContainer = document.getElementById('toastContainer');
      const toastId = 'toast-' + Date.now();
      
      // Determine icon and title based on message content
      let icon = 'material-symbols:info';
      let title = 'Notification';
      
      if (message.includes('favorite') || message.includes('Favorite')) {
        icon = 'material-symbols:favorite';
        title = 'Favorite Updated!';
      } else if (message.includes('cart') || message.includes('Cart')) {
        icon = 'material-symbols:shopping-cart';
        title = 'Cart Updated!';
      }
      
      const toastHTML = `
        <div class="toast" id="${toastId}" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <iconify-icon icon="${icon}" class="me-2"></iconify-icon>
            <strong class="me-auto">${title}</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
          <div class="toast-body">
            ${message}
          </div>
        </div>
      `;
      
      toastContainer.insertAdjacentHTML('beforeend', toastHTML);
      
      const toastElement = document.getElementById(toastId);
      const toast = new bootstrap.Toast(toastElement, {
        autohide: true,
        delay: 3000
      });
      
      toast.show();
      
      toastElement.addEventListener('hidden.bs.toast', function() {
        toastElement.remove();
      });
    }

    // Login function - now uses API
    async function handleLoginClick() {
      const email = document.getElementById('loginEmail').value.toLowerCase().trim();
      const password = document.getElementById('loginPassword').value;
      
      if (!email || !password) {
        showToast('Please fill in all fields', 'warning');
        return;
      }
      
      try {
        const data = await api.login({ email, password });
        showToast('Login successful!', 'success');
        
        // Close modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
        if (modal) modal.hide();
        
        // Clear form
        document.getElementById('loginEmail').value = '';
        document.getElementById('loginPassword').value = '';
        
        // Update UI
        checkLoginState();
      } catch (error) {
        showToast('Login failed: ' + error.message, 'error');
      }
    }

    // Register function - now uses API
    async function handleRegisterClick() {
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (!firstName || !lastName || !email || !password) {
        showToast('Please fill in all fields', 'warning');
        return;
      }
      
      try {
        const data = await api.register({ 
          first_name: firstName, 
          last_name: lastName, 
          email, 
          password 
        });
        showToast('Registration successful!', 'success');
        
        // Close modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
        if (modal) modal.hide();
        
        // Clear form
        document.getElementById('firstName').value = '';
        document.getElementById('lastName').value = '';
        document.getElementById('email').value = '';
        document.getElementById('password').value = '';
        
        // Update UI
        checkLoginState();
        
        // Redirect to test-dashboard after a short delay
        setTimeout(() => {
          window.location.href = 'home.html';
        }, 1500);
      } catch (error) {
        showToast('Registration failed: ' + error.message, 'error');
      }
    }

    // Immediately hide buttons if logged in (before DOM loads)
    if (localStorage.getItem('userLoggedIn')) {
      const style = document.createElement('style');
      style.textContent = '.login-btn, .register-btn { display: none !important; }';
      document.head.appendChild(style);
      console.log('🔒 User already logged in - hiding auth buttons immediately');
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Don't force logout - keep user logged in across pages
      // User login state is preserved in localStorage
      
      // Debug: Check localStorage values
      console.log('🔍 Courses page - localStorage values:', {
        userLoggedIn: localStorage.getItem('userLoggedIn'),
        userName: localStorage.getItem('userName'),
        userEmail: localStorage.getItem('userEmail'),
        authToken: localStorage.getItem('authToken') ? 'Set' : 'Not Set',
        userId: localStorage.getItem('userId')
      });
      
      // Check login state and update UI accordingly
      checkLoginState();
      updateCartCount();
      updateCartModal();
      
      console.log('📄 Courses page loaded - User login state:', localStorage.getItem('userLoggedIn') ? 'Logged In' : 'Not Logged In');
    });

    // Course Filtering Functionality
    function filterCourses(category) {
      console.log('Filtering courses by category:', category);
      
      // Update active button
      document.querySelectorAll('.course-filter-tabs .btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // Get all course cards
      const courseCards = document.querySelectorAll('.course-card');
      
      // Add loading animation
      courseCards.forEach(card => {
        card.classList.add('loading');
      });
      
      // Filter courses after a short delay for smooth animation
      setTimeout(() => {
        courseCards.forEach(card => {
          const courseElement = card.closest('[data-course]');
          const courseType = courseElement ? courseElement.getAttribute('data-course') : '';
          
          if (category === 'all' || courseType === category) {
            courseElement.style.display = 'block';
            card.classList.remove('loading');
          } else {
            courseElement.style.display = 'none';
            card.classList.remove('loading');
          }
        });
        
        // Re-trigger animations for visible cards
        const visibleCards = document.querySelectorAll('.course-card:not(.loading)');
        visibleCards.forEach((card, index) => {
          card.style.animation = 'none';
          setTimeout(() => {
            card.style.animation = `fadeInUp 0.6s ease-out ${index * 0.1}s`;
          }, 10);
        });
      }, 300);
    }

    // Add smooth scroll behavior for better UX
    document.documentElement.style.scrollBehavior = 'smooth';
  </script>

  <script src="js/script.js"></script>
  <script src="js/api.js"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
</body>

</html>
