<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information - IG Way IGCSE Tutoring</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="icomoon/icomoon.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/vendor.css">
    <link rel="stylesheet" type="text/css" href="style.css?v=5">
    <link rel="stylesheet" type="text/css" href="css/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&family=Roboto+Slab&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
</head>
<body>
    <!-- Dashboard Header -->
    <div class="dashboard-header">
        <div class="d-flex align-items-center justify-content-between w-100">
            <!-- Left Section: Logo -->
            <div class="logo-section">
                <a href="dashboard.html" class="d-flex align-items-center text-decoration-none">
                    <img src="images/igway-logo.png" alt="IG Way IGCSE Tutoring" class="img-fluid logo-image">
                </a>
            </div>
            
            <!-- Right Section: Back Button -->
            <div class="d-flex align-items-center gap-4">
                <a href="dashboard.html" class="btn btn-outline-primary">
                    <iconify-icon icon="material-symbols:arrow-back" class="me-2"></iconify-icon>
                    Back to Dashboard
                </a>
            </div>
        </div>
    </div>

    <!-- Student Information Content -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <!-- Student Profile Card -->
                    <div class="card shadow-lg border-0">
                        <div class="card-body text-center p-5">
                            <!-- Avatar -->
                            <div class="profile-avatar-large mx-auto mb-4" id="studentAvatar">
                                <iconify-icon icon="material-symbols:person" class="fs-1"></iconify-icon>
                            </div>
                            
                            <!-- Student Name -->
                            <h2 class="mb-3" id="studentName">Student Name</h2>
                            
                            <!-- Student Information -->
                            <div class="student-info-section">
                                <div class="info-item mb-4">
                                    <div class="d-flex align-items-center justify-content-center mb-2">
                                        <iconify-icon icon="material-symbols:email" class="me-3 text-primary fs-5"></iconify-icon>
                                        <h6 class="mb-0 text-muted">Email Address</h6>
                                    </div>
                                    <p class="fs-5 mb-0" id="studentEmail">student@example.com</p>
                                </div>
                                
                                <div class="info-item mb-4">
                                    <div class="d-flex align-items-center justify-content-center mb-2">
                                        <iconify-icon icon="material-symbols:phone" class="me-3 text-primary fs-5"></iconify-icon>
                                        <h6 class="mb-0 text-muted">Phone Number</h6>
                                    </div>
                                    <p class="fs-5 mb-0" id="studentPhone">+1234567890</p>
                                </div>
                                
                                <div class="info-item mb-4">
                                    <div class="d-flex align-items-center justify-content-center mb-2">
                                        <iconify-icon icon="material-symbols:calendar-today" class="me-3 text-primary fs-5"></iconify-icon>
                                        <h6 class="mb-0 text-muted">Member Since</h6>
                                    </div>
                                    <p class="fs-5 mb-0" id="memberSince">January 2024</p>
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="d-grid gap-3 mt-5">
                                <button class="btn btn-primary btn-lg" onclick="openPasswordChangeModal()">
                                    <iconify-icon icon="material-symbols:lock" class="me-2"></iconify-icon>
                                    Change Password
                                </button>
                                
                                <button class="btn btn-outline-secondary btn-lg" onclick="goBack()">
                                    <iconify-icon icon="material-symbols:arrow-back" class="me-2"></iconify-icon>
                                    Back to Dashboard
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Password Change Modal -->
    <div class="modal fade" id="passwordChangeModal" tabindex="-1" aria-labelledby="passwordChangeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title" id="passwordChangeModalLabel">Change Password</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="passwordChangeForm">
                        <div class="mb-3">
                            <label for="currentPassword" class="form-label">Current Password</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="currentPassword" required>
                                <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('currentPassword', 'currentPasswordIcon')">
                                    <iconify-icon icon="material-symbols:visibility-off" id="currentPasswordIcon"></iconify-icon>
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">New Password</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="newPassword" required>
                                <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('newPassword', 'newPasswordIcon')">
                                    <iconify-icon icon="material-symbols:visibility-off" id="newPasswordIcon"></iconify-icon>
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Confirm New Password</label>
                            <div class="input-group">
                                <input type="password" class="form-control" id="confirmPassword" required>
                                <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('confirmPassword', 'confirmPasswordIcon')">
                                    <iconify-icon icon="material-symbols:visibility-off" id="confirmPasswordIcon"></iconify-icon>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="changePassword()">Change Password</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Load student information on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadStudentInfo();
        });

        function loadStudentInfo() {
            // Get user data from localStorage
            const userName = localStorage.getItem('userName') || 'Student';
            const userEmail = localStorage.getItem('userEmail') || 'student@example.com';
            const userPhone = localStorage.getItem('userPhone') || '+1234567890';
            const memberSince = localStorage.getItem('memberSince') || 'January 2024';
            
            // Update page content
            document.getElementById('studentName').textContent = userName;
            document.getElementById('studentEmail').textContent = userEmail;
            document.getElementById('studentPhone').textContent = userPhone;
            document.getElementById('memberSince').textContent = memberSince;
            
            // Update avatar based on name
            const firstName = userName.split(' ')[0].toLowerCase();
            const isFemale = ['sarah', 'emily', 'jessica', 'amanda', 'jennifer', 'lisa', 'michelle', 'ashley', 'nicole', 'stephanie'].includes(firstName);
            const avatarClass = isFemale ? 'female' : 'male';
            
            const studentAvatar = document.getElementById('studentAvatar');
            if (studentAvatar) {
                studentAvatar.className = `profile-avatar-large ${avatarClass}`;
            }
        }

        function openPasswordChangeModal() {
            const modal = new bootstrap.Modal(document.getElementById('passwordChangeModal'));
            modal.show();
        }

        function togglePasswordVisibility(inputId, iconId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(iconId);

            if (input.type === 'password') {
                input.type = 'text';
                icon.setAttribute('icon', 'material-symbols:visibility');
            } else {
                input.type = 'password';
                icon.setAttribute('icon', 'material-symbols:visibility-off');
            }
        }

        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Basic validation
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Please fill in all fields');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('New passwords do not match');
                return;
            }

            if (newPassword.length < 6) {
                alert('New password must be at least 6 characters long');
                return;
            }

            // Here you would typically send the data to your server
            // For now, we'll just show a success message
            alert('Password changed successfully!');
            
            // Close modal and clear form
            const modal = bootstrap.Modal.getInstance(document.getElementById('passwordChangeModal'));
            modal.hide();
            document.getElementById('passwordChangeForm').reset();
        }

        function goBack() {
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>
